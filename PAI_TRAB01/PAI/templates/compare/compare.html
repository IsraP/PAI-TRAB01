{% extends "base.html" %}

{% load static %}

{% block title %}Compare{% endblock %}

{% block content %}
<div>
    <form runat="server" id="formImg" action="#" method="POST">
        {% csrf_token %}
        <div class="d-flex w-100 justify-content-between w-100">
            <div class="d-flex flex-column">
                <h4>Imagem Base</h4>


                <label for="imgInp" class="btn custom-file-upload">
                    Escolher arquivo
                </label>
                <div id="imgaem1">
                    {% if template %}
                    <img style="max-height: 200px;" src="{{ template }}" id="img1" alt="your image" />
                    {% endif %}
                </div>

                <input accept="image/jpeg, image/png" type='file' id="imgInp" name="imgBase" />
            </div>
            <div class="d-flex flex-column">
                <h4>Imagem Cortada</h4>

                <label for="imgInpCrop" class="btn custom-file-upload">
                    Escolher arquivo
                </label>
                <div id="imgaem2">
                    {% if img %}
                    <img style="max-height: 200px;" src="{{ img }}" id="img2" alt="your image" />
                    {% endif %}
                </div>
                <input accept="image/jpeg, image/png" type='file' id="imgInpCrop" name="imgCrop" />
            </div>

            <input type="text" class="d-none" id="imgBase" name="template">
            <input type="text" class="d-none" id="imgCrop" name="img">


        </div>
        <div id="imgaemFinal" class="d-flex w-100 justify-content-center w-100">
            {% if error %}
                <p>Impossivel comparar</p>
            {% elif compare %}
                <img src="data:image/jpeg;base64,{{ compare }}" id="result" alt="your image" style="max-height: 200px;"/>
            {% endif %}
        </div>
        <div class="d-flex justify-content-center w-100">
            <button id="btnCompare" class="btn custom-file-upload" type="submit">Comparar</button>
        </div>
    </form>
</div>
{% endblock %}

{% block script %}

<script src="{% static 'js/compare.js' %}"></script>

{% endblock %}